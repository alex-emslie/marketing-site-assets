%header
  @extend %nav-links
  background: $black
  background: rgba($black, 0.8)
  // TODO: change this back to $nav-height when the old site is gone
  height: 70px
  transition: all 0.15s ease-in-out
  width: 100%
  position: fixed
  top: 0
  z-index: z("navigation")

%main-nav
  z-index: 1001
  ul
    @extend %no-style-list
    @extend %inline-list-elements
    li
      height: $nav-height
      position: relative
      &:not(:last-child)
        margin-right: em(35, 16)
    li.dropdown:hover
      ul.sub-menu
        opacity: 1
        display: block
        visibility: visible
        top: 70px
        @include transition(all 300ms ease)
    ul.sub-menu
      opacity: 0
      position: absolute
      visibility: hidden
      top: 40px
      left: 0
      background: $white
      padding: 0
      width: em(280)
      margin-left: -105px
      -webkit-box-shadow: 0px 6px 16px -4px rgba(0,0,0,0.75)
      -moz-box-shadow: 0px 6px 16px -4px rgba(0,0,0,0.75)
      box-shadow: 0px 6px 16px -4px rgba(0,0,0,0.75)
      li.nested-nav
        ul
          li
            border-bottom: none
            font-size: 14px
            padding-bottom: 0.2em
            &:last-child
              margin-bottom: 0.4em
            a
              padding: 0.6em 1.25em 0.35em 2.5em
      li
        margin-right: 0
        height: auto
        border-bottom: 1px solid $gray
        width: 100%
        a
          font-family: $regular-font
          font-size: $heading-3
          color: $black
          padding: em(18) em(20) em(12)
          font-size: 14px
          letter-spacing: 0
          &:hover
            background-color: #f5f5f5
      .arrow
        width: 0
        height: 0
        border-left: 10px solid transparent
        border-right: 10px solid transparent
        border-bottom: 10px solid $white
        top: -10px
        left: 44.5%
        position: absolute
  svg
    @extend %fill-transition
    width: em(115)
    height: em(32)
    fill: $light-gray
    cursor: pointer
    &:hover
      fill: $white
  li a
    padding: em(25) 0 0
  .logo a
    padding: em(20, 16) 0
  menu
    @extend %allcaps
    font-size: em(11, 16)
    padding: 0
    margin: 0
    float: right
    a
      padding: em(42, 16) 0
  .utility-nav
    ul.sub-menu
      margin-left: -65px
